<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- 头部公共组件 -->

<head th:include="~{system/common/component::myheader('角色配置')}"></head>

<body>

	<!-- 顶部菜单组件 -->
	<div th:insert="~{system/common/component::#mymenu}"></div>

	<div align="center">
		<h1>菜单配置页面</h1>
	</div>

	<div>
		<h5 class="mb-4 text-left">当前配置角色：[[${role.name}]]</h5>
	</div>

	<!-- 菜单配置到角色 -->
	<div>
		<h5 class="mb-4 text-left">
			<span th:each="url:${verifyurls}">
				<span th:if="${url.path} == |${verifyreq}/auth|">
					<form th:object="${addmenu}" th:action="@{auth}" method="post"
						onsubmit="return checkOptValue('menuselector','菜单');">
						<input type="hidden" name="roleId" th:value="*{roleId}">
						<select class="selectpicker" id="menuselector" name="menuId" th:field="*{menuId}">
							<option value="0">---- 请选择配置菜单 ----</option>
							<option th:each="menu:${menus}" th:value="${menu.id}" th:text="${menu.name}">
								菜单名称
							</option>
						</select>
						<button type="submit" class="btn btn-primary">添加配置</button>
					</form>
				</span>
			</span>
		</h5>
	</div>

	<!-- 数据列表 -->
	<div>
		<table class="table table-hover align-items-center">
			<thead class="thead-light">
				<tr>
					<th>ID</th>
					<th>菜单名称</th>
					<th>菜单说明</th>
					<th>创建日期</th>
					<th>更新日期</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="rolemenu:${rolemenus}">
					<td th:text="${rolemenu.id}"></td>
					<td th:text="${rolemenu.name}"></td>
					<td th:text="${rolemenu.description}"></td>
					<td th:text="${rolemenu.createTime}"></td>
					<td th:text="${rolemenu.updateTime}"></td>
					<td>
						<span th:each="url:${verifyurls}">
							<span th:if="${url.path} == |${verifyreq}/removeauth|">
								<a class="btn btn-outline-primary" th:href="@{removeauth(rid=${role.id}, mid=${rolemenu.id})}">移除配置菜单</a>
							</span>
						</span>
					</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="6">
						<a class="btn btn-outline-primary" th:href="@{list}">返回角色列表</a>
					</td>
				</tr>
			</tfoot>
		</table>
	</div>

	<!-- 底部Footer组件 -->
	<div th:insert="~{system/common/component::#myfooter}"></div>

</body>

</html>